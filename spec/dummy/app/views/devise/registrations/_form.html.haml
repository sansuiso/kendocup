= form_for @user, as: :user, url: "/#{I18n.locale}/users/sign_up/", html: { class: 'form-horizontal' }, wrapper: :horizontal_form, wrapper_mappings: {check_boxes: :horizontal_radio_and_checkboxes, radio_buttons: :horizontal_radio_and_checkboxes, file: :horizontal_file_input, boolean: :horizontal_boolean}  do |f|
  = devise_error_messages!
  .form-group
    = f.label :first_name, class: "col-sm-2"
    .col-sm-4
      = f.text_field :first_name, autofocus: true, class: "form-control"
  .form-group
    = f.label :last_name, class: "col-sm-2"
    .col-sm-4
      = f.text_field :last_name, autofocus: true, class: "form-control"
  .form-group
    = f.label :email, class: "col-sm-2"
    .col-sm-4
      = f.text_field :email, autofocus: true, required: true, class: "form-control"
  .form-group
    = f.label :dob, class: "col-sm-2"
    .col-sm-4
      = f.text_field :dob, as: :date_picker, class: "form-control"
  .form-group
    = f.label :club_name, class: "col-sm-2"
    .col-sm-4
      = f.text_field :club_name, label: 'Club', as: :select2, input_html: {data: {options: Kendocup::Club.all.map{|c| {id: c.name, text: c.name}}}}, class: "form-control"
  - if user.persisted?
    .form-group
      = f.label :club_name, class: "col-sm-2"
      .col-sm-4
        = f.text_field :current_password, autocomplete: "off", class: "form-control"
  .form-group
    = f.label :password, class: "col-sm-2"
    .col-sm-4
      = f.text_field :password, label: "New password", autocomplete: "off", class: "form-control"
  .form-group
    = f.label :password_confirmation, class: "col-sm-2"
    .col-sm-4
      = f.text_field :password_confirmation, autocomplete: "off", class: "form-control"
  .col-sm-9.col-sm-offset-3
    - if user.persisted?
      = f.submit "Update", class: "btn btn-success"
    - else
      = f.submit t("devise.registrations.title"), class: "btn btn-success"
  - unless user.persisted?
    .col-sm-9.col-sm-offset-3
      = render "devise/shared/links", signin: true, signup: false
